{% extends 'base.html' %}
{% load static %}
{% block content %}
  <div class="container mt-3">
    <h1 class="main_color1 fw-bold mt-3 mb-3 text-center">마이페이지</h1>

    <div class="row mt-5 text-center">
      <!-- 왼쪽 화면 -->
      <div class="col-5" style="border: 1px solid">
        <h2 class="main_color2mb-3 fw-bold">나의 프로필</h2>
        <p>
          {% if user.profile %}
            <img style='height:200px;width:200px;' src="{{ user.profile.url }}" alt="{{ user.profile }}">
          {% else %}
            <img style='height:200px;width:200px;' src="{% static '/images/profile/user.png'%}" alt="user">
          {% endif %}
        </p>
        <div style="margin: 0 auto; width:50%; border: 1px solid;">
          <p>
            <span class="main_color1">이름: </span>
            <span>{{ user.username }}</span>
          </p>
          <p><img style='height:30px;width:30px;' src="{% static '/images/github.png'%}"></p>
          <p class="main_color2 fw-bold"><img style='height:30px;width:30px;' src="{% static '/images/email.png'%}"> {{ user.email }}</p>
        </div>
        {% if user.career == 0 %}
          <p class="text-center">경력: 신입</p>
          <p>
            <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
            <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
            <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
            <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
            <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
          </p>
        {% else %}
          <p class="text-center">경력: {{ user.career }}년차</p>
          <p>
            <!-- 1~4년차 -->
            {% if user.career > 0 and user.career < 5 %}
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <!-- 5~8년차 -->
            {% elif user.career > 4 and user.career < 9 %}
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <!-- 9~12년차 -->
            {% elif user.career > 8 and user.career < 13 %}
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <!-- 13~16년차 -->
            {% elif user.career > 12 and user.career < 17 %}
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#EAEAEA;"></span>
              <!-- 17년 이상 -->
            {% else %}
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
              <span class="me-1" style="padding-left:20%; background-color:#7689DE;"></span>
            {% endif %}
          </p>
        {% endif %}
        </div>
      
      <!-- 오른쪽 화면 -->
      <div class="col-7" style="border: 1px solid">
        {% comment %} 이것은 user post를 출력하는 for문입니다 {% endcomment %}
        <h3>post</h3>
        {% for post in posts %}
        <a href="{% url 'posts:detail' post.pk%}">
          {{post.title}}
        </a>
          <br>
        {% endfor %}
        
        {% comment %} 이것은 user comment를 출력하는 for문입니다 {% endcomment %}
        <h3>comment</h3>

        {% for comment in comments %}
        <a href="{% url 'posts:detail' comment.article.pk%}">
          {{comment.content}}
        </a>
        <br>
          {% endfor %}
        </div>
      </div>

  
    <!-- 버튼 그룹 -->
    <p class="text-center mt-4">
      <a class="btn btn-outline-primary" href="{% url 'accounts:update' %}">수정</a>
      <a class="btn btn-outline-success" href="{% url 'accounts:change_password' %}">비밀번호 변경</a>
      <a class="btn login_btn" href="{% url 'articles:index' %}">홈으로 돌아가기</a>
      <a class="btn btn-outline-danger" href="{% url 'accounts:delete' user.pk %}">회원탈퇴</a>
    </p>
  </div>
{% endblock content %}